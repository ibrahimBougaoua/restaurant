<%- include('../base/header') -%>
<%- include('../base/navbar') -%>
<div class="container">

<%- include('../base/messages') -%>

    <div class="row mb-4">
    <div class="col-md-12" style="box-shadow: 0 1px 5px rgba(0, 0, 0, 0.35);">
    
    <nav class="navbar navbar-expand-lg navbar-light">
      <ol class="navbar-nav">
          <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
          <li class="breadcrumb-item active" aria-current="page">Tables</li>
      </ol>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link btn btn-primary btn-sm mr-2 text-light" href="/table/new">New</a>
              </li>
          </ul>
      </div>
</nav>
</div>
</div>

<div class="row mb-4">
<div class="col-md-12 p-0" style="box-shadow: 0 1px 5px rgba(0, 0, 0, 0.35);">

<% if(table != "") { %>
  <table class="table">
      <thead class="thead-light">
        <tr>
          <th  style="font-weight: normal;font-size: 14px;">Name</th>
          <th  style="font-weight: normal;font-size: 14px;">Number Place</th>
          <th  style="font-weight: normal;font-size: 14px;">Type</th>
          <th  style="font-weight: normal;font-size: 14px;">Description</th>
          <th  style="font-weight: normal;font-size: 14px;">Created</th>
          <th  style="font-weight: normal;font-size: 14px;">Show More</th>
        </tr>
      </thead>
    <tbody>
    
    <% table.forEach((tables)=> {%>
        <tr>
          <td style="font-weight: normal;font-size: 14px;"><%= tables.Name%></td>
          <td style="font-weight: normal;font-size: 14px;"><%= tables.NumberPlace%></td>
          <td style="font-weight: normal;font-size: 14px;"><%= tables.Type%></td>
          <td style="font-weight: normal;font-size: 14px;"><%= tables.Description%></td>
          <td style="font-weight: normal;font-size: 14px;"><%= tables.created_at.toDateString()%></td>
          <td style="font-weight: normal;font-size: 14px;"><a href="<%=  '/table/single/'  + tables.id %>" class="btn btn-primary btn-sm">Show More</a></td>
        </tr>
    <%})%>
    
    </tbody>
    </table>

    <%} else {%>
      <div class="mt-3 text-center">
        <p class="display-5 text-center">
          No Tables ! please Add <a class="text-muted" href="/table/new"> New</a>
        </p>
      </div>
    <% } %>

</div>
</div>

<% if(table != "") { %>
  <div class="row">
    <div class="col-12 mt-2 mb-2">
      <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">
            <% for(let i = 1;i<=Math.ceil(total/5);i++) {%>
              <% if( i == page) {%>
              <li class="page-item active"><a class="page-link" href="/table/all/<%= i %>"><%= i %></a></li>
              <%} else {%>
              <li class="page-item"><a class="page-link" href="/table/all/<%= i %>"><%= i %></a></li>
              <%}%>
            <%}%>
          </ul>
        </nav>
    </div>
  </div>
<% } %>

</div>

<%- include('../base/footer') -%>